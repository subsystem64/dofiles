!function(e){function t(t){for(var r,i,u=t[0],c=t[1],a=t[2],d=0,f=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return s.push.apply(s,a||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={1:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var a=0;a<u.length;a++)t(u[a]);var l=c;s.push([12,0]),n()}({12:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function u(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),s=n(0);window.SB=s.default;const i=new(n(2).default)({registerFirefoxContentScript:c,unregisterFirefoxContentScript:a}),u={};function c(e){const t=u[e.id];t&&t.unregister(),browser.contentScripts.register({allFrames:e.allFrames,js:e.js,css:e.css,matches:e.matches}).then(t=>{u[e.id]=t})}function a(e){u[e].unregister(),delete u[e]}function l(e,t,n={}){return r(this,void 0,void 0,(function*(){return"get"===e.toLowerCase()&&(t=i.objectToURI(t,n,!0),n=null),yield fetch(t,{method:e,headers:{"Content-Type":"application/json"},redirect:"follow",body:n?JSON.stringify(n):null})}))}i.isFirefox()&&i.wait(()=>null!==s.default.config).then((function(){s.default.config.supportInvidious&&i.setupExtraSiteContentScripts()})),chrome.tabs.onUpdated.addListener((function(e){chrome.tabs.sendMessage(e,{message:"update"},()=>{chrome.runtime.lastError})})),chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.message){case"openConfig":return void chrome.tabs.create({url:chrome.runtime.getURL("options/options.html"+(e.hash?"#"+e.hash:""))});case"openHelp":return void chrome.tabs.create({url:chrome.runtime.getURL("help/index.html")});case"openPage":return void chrome.tabs.create({url:chrome.runtime.getURL(e.url)});case"sendRequest":return l(e.type,e.url,e.data).then(e=>r(this,void 0,void 0,(function*(){n({responseText:yield e.text(),status:e.status,ok:e.ok})}))),!0;case"submitVote":return function(e,t,n){return r(this,void 0,void 0,(function*(){let u=s.default.config.userID;null!=u&&"undefined"!==u||(u=i.generateUserID(),s.default.config.userID=u);const c=void 0!==e?"&type="+e:"&category="+n,a=yield function(e,t,n={}){return r(this,void 0,void 0,(function*(){const r=s.default.config.testingServer?o.testingServerAddress:s.default.config.serverAddress;return yield l(e,r+t,n)}))}("POST","/api/voteOnSponsorTime?UUID="+t+"&userID="+u+c);return a.ok?{successType:1,responseText:yield a.text()}:405==a.status?{successType:0,statusCode:a.status,responseText:yield a.text()}:{successType:-1,statusCode:a.status,responseText:yield a.text()}}))}(e.type,e.UUID,e.category).then(n),!0;case"registerContentScript":return c(e),!1;case"unregisterContentScript":return a(e.id),!1}})),chrome.runtime.onInstalled.addListener((function(){setTimeout((function(){if(!s.default.config.userID){chrome.tabs.create({url:chrome.extension.getURL("/help/index.html")});const e=i.generateUserID();s.default.config.userID=e}}),1500)}))}});